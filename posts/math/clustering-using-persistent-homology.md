---
title: 
published:
tags: Homology, PersistentHomology
toc: on
mathjax: on
---


<!--more-->

{toc}


## フィルトレーションとパーシステントホモロジー

フィルトレーションが入った位相空間にパーシステントホモロジーが定義できることを見ます.

### フィルトレーションとは

位相空間 $X$ の部分集合の列

$$
X_0 \subset X_1 \subset \cdots X_{n-1} \subset X_n = X
$$

をフィルトレーションと言います.


### パーシステントホモロジー

次のような単体複体のフィルトレーションに対して, 1次のホモロジーを考えていきます.

<!--図-->

1次のホモロジーを考えるというのは, 1次元の穴を考えるということです. フィルトレーションにおける穴の様子をまとめると次のようになります.

- $X_3$ で1つめの穴ができる
- $X_5$ で2つめの穴ができる
- $X_6$ で2つめの穴が埋まる
- $X_7$ で1つめの穴が埋まる

したがってこのフィルトレーションに対する1次のパーシステント図は以下のようになります.

<!--図-->

次は0次のホモロジーを考えてみます.

- $X_0$ で連結成分が2つできる
- $X_1$ で連結成分が1つ吸収されると同時に, 別に1つできる
- $X_2$ で1つ吸収される
- $X_2$ 以降は連結成分は1つのまま

以上から, フィルトレーション内で発生した連結成分は延べ3つです. したがって0次のパーシステント図は以下のようになります.

<!--図-->

連結成分の延べ数は3なのに, パーシステント図内の点は2つだけです. これはなぜかというと, $X_0$ で発生した連結成分が最後まで生き残っているからです. したがって消滅(吸収)時刻が $\infty$ という扱いになり, パーシステント図内に表現できません.

パーシステント図にはこのような欠点があるため, バーコードという図が利用されることもあります. 今回の例で0次のバーコードを書くと次のようになります.

<!--図-->

バーコードは, 発生時刻と消滅時刻を両端とする線分の集まりとして表現されます. 消滅時刻を持たないものは, それを表すために矢印で描かれます.

こんなふうに, 位相空間にフィルトレーションが定義されていれば, パーシステントホモロジーを考えることができます. 


## クラスタリング

フィルトレーションからパーシステントホモロジーが定義されることを見てきました. ここからは, パーシステントホモロジーを使ってクラスタリングするアイデアを解説していきます.

### 何をもってクラスタとするか

とある確率分布から得られたサンプルをヒストグラムとして表しました. クラスタはいくつあるでしょうか？

<!--図-->

人間の目には2つに見えますね. このヒストグラムは次のような確率密度関数からサンプルしたものです. 当たり前ですが, ヒストグラムと似たような形になりますね. 確率密度関数のグラフを見ても, クラスタは2つに見えます.

<!--図-->

なにをもってクラスタと呼んでいるのかと言えば, グラフの山の数です. つまりグラフの山の数を数えれば, クラスリングができます.

### パーシステントホモロジーでクラスタを捕える

$f:\mathbb{R}^n \to \mathbb{R}$ を確率密度関数とします. $\mathbb{R}^n$ のフィルトレーションとして $F_a = \{f^{-1}([a, \infty])\}$ を考えます. $a>b$ に対して $F_a \subset F_b$ なので, 上で挙げた例とは添字と部分集合の関係が逆になっていることに注意です.

クラスタリングというのはデータ点がかたまって存在する場所を探すタスクです. したがって0次のホモロジーだけを見ればよさそうというのは想像がつきますね.

